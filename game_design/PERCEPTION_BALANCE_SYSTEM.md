# 感知平衡系统设计 (PERCEPTION_BALANCE_SYSTEM.md)

## 🎯 问题分析

### 核心风险
如果只有"学术武僧"职业有高感知，其他职业感知都很低，会导致：
- **策略性严重失衡**：看不到敌人意图的职业无法做出有效决策
- **游戏体验不公平**：感知低的职业在战斗中处于巨大劣势
- **职业多样性被破坏**：所有玩家都会选择感知高的职业

## 🛡️ 解决方案：分层感知系统

### 1. **感知等级设计**

```
感知等级系统：
- 感知 18+ (学术武僧)：看到完整意图 + 特殊能力
- 感知 15-17 (高感知职业)：看到主要意图 + 部分特殊能力  
- 感知 12-14 (中等感知)：看到基础意图
- 感知 9-11 (低感知)：看到模糊提示
- 感知 6-8 (极低感知)：只能通过其他方式推测
```

### 2. **各职业感知分配**

```
学术武僧 (Academic Monk)：
- 感知：18-20 (最高)
- 特殊能力：完整意图 + 2回合预判 + 预判格挡

理论学者 (Theoretical Scholar)：
- 感知：15-17 (高)
- 特殊能力：主要意图 + 1回合预判

实验学者 (Experimental Scholar)：
- 感知：12-14 (中等)
- 特殊能力：基础意图 + 实验数据辅助

社会学者 (Social Scientist)：
- 感知：12-14 (中等)
- 特殊能力：基础意图 + 社交直觉

跨学科研究者 (Interdisciplinary Researcher)：
- 感知：12-14 (中等)
- 特殊能力：基础意图 + 多领域分析

临床研究者 (Clinical Researcher)：
- 感知：9-11 (较低)
- 特殊能力：模糊提示 + 临床经验补偿
```

### 3. **感知补偿机制**

#### 3.1 其他属性补偿感知不足
```
说服力补偿：
- 感知低但说服力高：通过辩论技巧推测敌人意图
- 效果：每3点说服力提供1点感知补偿

洞察力补偿：
- 感知低但洞察力高：通过分析模式推测意图
- 效果：每2点洞察力提供1点感知补偿

反应速度补偿：
- 感知低但反应快：快速应对未知威胁
- 效果：每3点反应速度提供1点感知补偿
```

#### 3.2 职业特殊补偿
```
实验学者：
- 实验数据：通过实验记录推测敌人模式
- 效果：每回合获得1个实验数据点，可用于推测敌人意图

社会学者：
- 社交直觉：通过观察敌人行为推测意图
- 效果：敌人行动后，有30%概率揭示下回合意图

临床研究者：
- 临床经验：通过观察症状推测敌人状态
- 效果：敌人受伤时，有50%概率揭示其意图
```

### 4. **意图显示分级**

#### 4.1 完整意图 (感知18+)
```
显示内容：
- 敌人具体技能名称
- 技能效果和数值
- 目标选择
- 特殊效果

示例：
"准备使用：尖锐质疑
效果：造成8点压力伤害
目标：玩家
特殊：如果玩家压力>50，额外造成3点伤害"
```

#### 4.2 主要意图 (感知15-17)
```
显示内容：
- 敌人技能类型
- 大致效果范围
- 目标选择

示例：
"准备使用：攻击技能
效果：造成6-10点伤害
目标：玩家"
```

#### 4.3 基础意图 (感知12-14)
```
显示内容：
- 敌人行动类型
- 大致威胁等级

示例：
"准备：攻击行动
威胁：中等"
```

#### 4.4 模糊提示 (感知9-11)
```
显示内容：
- 敌人情绪状态
- 非常模糊的提示

示例：
"敌人看起来：不耐烦
提示：可能准备攻击"
```

#### 4.5 无感知 (感知6-8)
```
显示内容：
- 无意图信息
- 只能通过其他方式推测

补偿方式：
- 通过卡牌效果获得临时感知
- 通过其他属性推测
- 通过职业特殊能力
```

### 5. **感知相关专长设计**

#### 5.1 感知提升专长
```
敏锐观察 (Perception 12+)：
- 效果：感知+2
- 限制：最多提升到16

深度分析 (Perception 14+)：
- 效果：感知+3，但每回合受到1点压力
- 风险：高感知但增加压力风险

预判大师 (Perception 16+)：
- 效果：可以看到2回合后的意图
- 限制：每回合只能使用1次
```

#### 5.2 感知补偿专长
```
辩论直觉 (Persuasion 14+)：
- 效果：每3点说服力提供1点感知补偿
- 适用：感知低的职业

模式识别 (Insight 14+)：
- 效果：每2点洞察力提供1点感知补偿
- 适用：感知低的职业

快速反应 (Reaction Speed 14+)：
- 效果：感知低时，反应速度提供感知补偿
- 适用：感知低的职业
```

### 6. **平衡测试重点**

#### 6.1 感知差异测试
```
测试场景：
- 感知18 vs 感知8的职业对比
- 感知15 vs 感知12的职业对比
- 感知12 vs 感知9的职业对比

测试指标：
- 战斗胜率差异
- 策略选择多样性
- 玩家满意度
```

#### 6.2 补偿机制测试
```
测试场景：
- 低感知+高说服力的组合
- 低感知+高洞察力的组合
- 职业特殊补偿的效果

测试指标：
- 补偿效果是否足够
- 是否过度补偿
- 策略多样性是否保持
```

### 7. **实现建议**

#### 7.1 感知计算系统
```python
def calculate_perception_bonus(attributes, feats):
    """计算感知加成"""
    base_perception = attributes.perception
    
    # 专长加成
    feat_bonus = sum(feat.perception_bonus for feat in feats)
    
    # 属性补偿
    compensation = 0
    if base_perception < 12:
        compensation += attributes.persuasion // 3
        compensation += attributes.insight // 2
        compensation += attributes.reaction_speed // 3
    
    return min(base_perception + feat_bonus + compensation, 20)
```

#### 7.2 意图显示系统
```python
def get_intent_display_level(perception):
    """根据感知确定意图显示等级"""
    if perception >= 18:
        return "complete"
    elif perception >= 15:
        return "major"
    elif perception >= 12:
        return "basic"
    elif perception >= 9:
        return "vague"
    else:
        return "none"
```

## 🎮 总结

通过分层感知系统和多重补偿机制，我们确保：
1. **感知差异不会导致游戏失衡**
2. **每个职业都有独特的感知策略**
3. **低感知职业通过其他方式获得补偿**
4. **保持游戏的策略深度和多样性**

这样既保持了"学术武僧"的高感知特色，又确保其他职业不会因为感知低而"不能玩"。 