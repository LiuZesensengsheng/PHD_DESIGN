
# 游戏设计文档：甘特方块模型 (Gantt-tris Model)

## 1. 核心理念

本游戏是一款融合了**甘特图（Gantt Chart）**、**俄罗斯方块（Tetris）**与**肉鸽（Roguelike）**核心机制的策略卡牌游戏。

游戏的核心，是将博士生在面对多线程工作、截止日期（DDL）临近、以及各种突发事件时，那种**焦虑、压迫、手忙脚乱且充满黑色幽默的真实体验**，转化为一套直观、可交互的核心玩法。

玩家对抗的不仅是敌人，更是**时间的流逝**和由自己拖延所导致的**“事件连锁反应”**。

## 2. 核心单位：“甘特块” (The Gantt-tris Block)

游戏的基本单位不再是孤立的“节点”，而是一个既有**“类型”**（如节点），又有**“长度”**（如甘特图条带）的复合体，我们称之为**“甘特块”**。

每个“甘特块”拥有以下核心属性：
*   **类型 (Type)**: 代表其基础功能，如 `战斗`, `精英`, `商店`, `休息` 等。
*   **长度 (Length)**: 代表其**危险程度、处理难度或持续时间**。一个基础战斗块长度可能为2，而精英战斗块长度可能为4。
*   **轨道 (Track)**: 它所属的任务线，如`论文轨道`, `实验轨道`等。
*   **标签 (Tags)**: 一系列描述其内在属性的关键词，这是实现“融合”机制的核心。例如：
    *   `战斗块`: `[#战斗, #危险]`
    *   `休息块`: `[#休息, #安全, #恢复]`

## 3. 核心玩法循环：下落、堆叠、消除

游戏界面为一个从右到左的多轨道棋盘，时间从右向左流动。

1.  **生成 (Spawning)**: 新的“甘特块”会从屏幕的**右侧（未来）**随机在某个轨道上生成。
2.  **推进 (Advancing)**: 当玩家结束一个回合（例如，处理完一个事件），所有棋盘上的“甘特块”都会向**左侧（今天）**推进一个单位。
3.  **消除 (Clearing)**: 玩家可以点击“今天”或过去区域（一条“行动线”左侧）的任意一个“甘特块”来处理它（“消除”它）。这是玩家的主要行动。
4.  **堆叠 (Stacking & Merging)**: 这是游戏的核心机制。当一个“甘特块”B，在向左推进的过程中，其右端**物理上触碰**到了同一轨道上另一个“甘特块”A的左端时，**融合**就会发生。

## 4. 融合系统：基于标签的涌现式设计

“融合”是我们游戏最具创新性的核心。它不是简单的数值叠加，而是基于标签系统的、能创造出无限可能的“化学反应”。

### 4.1. 融合的触发

当两个“甘特块”在同一轨道上发生物理触碰时，它们会融合成一个全新的**“复合方块”**。
*   **视觉变化**: 新方块的长度是两者长度之和。
*   **内在变化**: 新方块的“类型”和“标签”由其融合前的两个方块共同决定。

### 4.2. 基于标签的融合规则 (示例)

我们不为N*N的组合编写N*N的逻辑，而是定义少数几条核心的**标签交互规则**：

*   **规则A:【危险入侵】**
    *   当任何带 `[#危险]` 标签的块，与任何带 `[#安全]` 标签的块融合时：
    *   **结果**: 新的复合块将失去 `[#安全]` 标签，并获得一个新的 `[#遇袭]` 标签。

*   **规则B:【同类强化】**
    *   当两个都带有 `[#战斗]` 标签的块融合时：
    *   **结果**: 新的复合块将获得一个 `[#增援]` 或 `[#车轮战]` 标签，显著提升其战斗难度。

*   **规则C:【机遇腐化】**
    *   当一个带 `[#危险]` 标签的块，与一个带 `[#交易]` 或 `[#恢复]` 标签的块融合时：
    *   **结果**: 新的复合块会获得 `[#高价]` 或 `[#效果减半]` 等负面标签。

### 4.3. 融合示例

*   `休息块` (`[#安全]`) + `战斗块` (`[#危险]`)
    *   **触发规则A** -> 诞生**“遇袭的休息块”** (`[#休息, #危险, #遇袭]`)。
    *   **玩家体验**: "你试图休息，却遭到了伏击！恢复效果减半，然后立刻进入战斗。"

*   `战斗块` (`[#战斗]`) + `战斗块` (`[#战斗]`)
    *   **触发规则B** -> 诞生**“车轮战块”** (`[#战斗, #危险, #车轮战]`)。
    *   **玩家体验**: "你将连续面对两波敌人的攻击，请做好准备。"

这个系统鼓励玩家去主动探索甚至利用融合机制，每一次融合都可能产生一个前所未见的、充满故事性的新挑战。

### 4.5. 核心升级：从“状态变化”到“涌现事件”

为了让“融合”体验从机械的规则变为生动的故事，我们将引入**“融合事件”**机制。当融合发生时，不是直接创造一个新方块，而是触发一个给予玩家**选择与后果**的迷你事件。

**机制核心：**

1.  **触发**: 当方块A与方块B触碰融合时。
2.  **呈现**: 游戏暂停，弹出一个“事件卡”。
3.  **事件卡内容**:
    *   **标题与叙事**: 描述当前发生的荒诞情景。
    *   **选项**: 提供2-3个处理选项，每个选项都可能与玩家的某些属性（未来可加入）或运气相关联。
    .
**事件模板系统：**

为了系统性地管理开发成本，我们不为每种组合单独设计事件，而是使用由“标签”触发的**“事件模板”**。

**模板示例：【安全区入侵】事件**

*   **触发条件**: `[#安全]` 标签的块 + `[#危险]` 标签的块。
*   **叙事池 (随机选择)**:
    *   “你正在摸鱼，导师突然打来电话询问进度...”
    *   “你正在宿舍休息，失控的实验品撞开了你的房门...”
*   **选项结构 (固定)**:
    1.  **选项A (正面硬刚)**: “直面问题” -> **后果**: 直接进入一场带有`[#遇袭]`词条的战斗，原有的`[#安全]`效果消失。
    2.  **选项B (技巧规避)**: “尝试糊弄过去” -> **后果**: 进行一次**检定**。
        *   **成功**: 危机解除，你获得一个打折的`[#安全]`效果。
        *   **失败**: 被当场抓包，进入一场更困难的战斗。
    3.  **选项C (牺牲未来)**: “立刻挂断/躲起来” -> **后果**: 危机暂时解除，你享受了完整的`[#安全]`效果，但最终的DDL BOSS将被显著强化。

这个系统将“融合”本身变成了游戏最核心的乐趣和故事生成器。

## 5. DDL终局机制：挤占与污染

游戏在时间轴的最右端，有一个特殊的、长度固定的**“DDL方块”**。它代表着最终的、不可撼动的截止日期。

### 5.1. 空间的挤占

*   游戏棋盘的总长度是有限的。当轨道上的“复合方块”因不断融合而变得**过长**时，它会物理上向右挤压同一轨道上的其他方块。
*   如果它最终挤压到了“DDL方块”，会将其**向左推动**。
*   **玩家体验**: "警告：你的拖延正在让最终截止日期提前到来！"

### 5.2. 终极污染

您提出的点睛之笔：当任何“甘特块”最终撞上“DDL方块”时，它不会再与之融合，而是会**“献祭”**自己。
*   **机制**: 该方块消失，并将其所有的核心属性（`#危险`, `#增援` 等标签）和**长度**（作为惩罚乘数）**永久地转移给最终BOSS**。
*   **玩家体验**: 玩家会在BOSS身上看到一条条由自己亲手造成的、触目惊心的永久Buff，在最终决战时，直面自己所有拖延的后果。

## 6. 玩家策略与体验

该设计的核心策略维度在于：
*   **风险管理**: "我是应该立即处理掉这个简单的战斗块，还是放任它与下一个精英块融合，以挑战一个更高风险、但可能有更高回报的复合事件？"
*   **空间规划**: "我必须清理这条轨道，为下一个重要的‘商店块’腾出空间，否则它一旦生成就会和前面的战斗块融合，导致我买不起东西。"
*   **长线规划**: "我必须不惜一切代价阻止那个超长的‘车轮战块’撞上DDL，否则我的最终BOSS会变得无法战胜。"

游戏将为玩家提供一次充满选择、意外和黑色幽ມ的、独一无二的博士生涯模拟。 