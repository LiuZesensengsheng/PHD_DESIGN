## 愿望与回响系统 · V1（概念占位稿）

> 定位：轻量叙事系统，挂在理想系统与跨年节点上，不增加新的资源条，优先服务“情感触动”和人生感。  
> 实现阶段：计划在第二期版本接入（论文线 Boss 与主战役核心打完之后）。

---

### 1. 设计动机与情绪目标

- **动机**  
  - 读博不是只剩 Excel 与任务，还有“这一年我想成为什么样的人/活成什么样子”的隐秘愿望。  
  - 我们已经有：理想（五色）、压力、SAN 崩溃、甘特任务线……  
  - 缺的是一个“**显式对自己许下承诺 → 多年后再回头看**”的层。

- **想要触发的情绪**  
  - 新年那一刻：认真但略带自嘲地，给自己许一个小小的愿望。  
  - 一年中：偶尔有事件/机会提醒你“你不是随便过日子的，你曾经想要过某些东西”。  
  - 多年后：看到当年许下的愿望再次出现在你面前——  
    - 有时是“绕了一圈，居然真的靠近了”；  
    - 有时是“我已经变成另一个人了”；  
    - 有时是“同一个愿望在不同年份反复出现”，带来一丝心酸或释然。

---

### 2. 核心概念：愿望（Wish）与回响（Echo）

#### 2.1 愿望（Wish）

- **触发时机**  
  - 每个“学年结束 → 新年开始”的跨年节点：  
    - 在年终结算与新一年任务生成之间，弹出一次“今年的愿望”事件。  

- **表现形式**  
  - 一段简短文案 + 3 个选项，每个选项对应一条“偏向某色理想的愿望”：  
    - 白：秩序 / 合规 / 生活有条理（例如：“希望今年别再被 DDL 追着跑了。”）  
    - 蓝：知识 / 方法 / 理解世界（例如：“希望今年能真正搞懂那套方法。”）  
    - 绿：深积累 / 身心续航（例如：“希望今年不要完全被工作吃掉。”）  
    - 红：影响 / 成就感（例如：“希望今年终于发出一篇像样的论文。”）  
    - 黑：野心 / 物质目标（例如：“希望今年攒到 XX 钱 / 把债还完。”）  
  - 每年仅记录 1 条当年愿望（不排斥连续几年许同类愿望）。

- **数据结构（概念层）**  
  - `year_wish`:  
    - `year_index`（第几学年）  
    - `ideal_color`（白/蓝/黑/红/绿，或 None）  
    - `wish_text`（玩家当时看到的简短文案）  
    - `meta_flags`（可选：如“续愿”“改愿”等轻量标记）

#### 2.2 回响（Echo）

- **定义**  
  - 回响 = 游戏世界在这一年里，对你当初许下的愿望做出的“若干次回应”。  
  - 形式可以是：  
    - 一个与愿望相关的事件（机会 / 诱惑 / 打脸）；  
    - 一句在战斗或对话中冒出来的台词；  
    - 年终的一段“愿望小结”。

- **类型（概念）**  
  - 正向回响：  
    - 例如：选了“论文顺利”，那一年你在论文线上遇到几次“小小的好运事件/支撑事件”。  
  - 反向回响：  
    - 例如：选了“不要被工作吃掉”，这一年却疯狂加班，年终总结时给出一句略扎心的反讽。  
  - 中性回响 / 延宕回响：  
    - 例如：什么大事都没发生，年终只淡淡地说“这个愿望被推迟到了下一年”。

---

### 3. 规则骨架（MVP 级，尽量轻）

> 原则：**不增加新的资源条，不引入复杂任务条件**，只通过事件权重、几句文案和极轻的数值偏置来发挥作用。

#### 3.1 新年许愿流程（MVP）

- 每年固定触发一次 `NewYearWishEvent`：  
  - 展示上一年的简短 recap（1–2 句，可选）；  
  - 给出 3 个愿望选项（从预制池中抽取、按当前理想/状态加权）；  
  - 记录玩家选择为当年的 `year_wish`。  
- 数值影响（MVP 建议）：  
  - 给予微弱的全年倾向性 buff，例如：  
    - 对应轨道相关事件权重 +5%；  
    - 对应理想颜色相关的正向事件略更容易出现。  
  - 失败时不做重罚，避免玩家把它当成必须“最优解”的 min-max 系统。

#### 3.2 回响触发（年中）

- 每年预留 1–2 个“回响触发点”插槽（可被其他事件占用）：  
  - 当到达某些里程碑（论文线、生活线、理想节点）时：  
    - 检查当前年份是否有 `year_wish`；  
    - 若有，则按 `ideal_color` 选择一条对应的小事件或一条特别台词。  
- 示例：  
  - 若愿望是“今年不要完全被工作吃掉”（绿）：  
    - 在你第三次加班到深夜时，触发一个小事件：“你突然想起年初给自己许下的那个愿望……”  
    - 选项：  
      - “装作没想起来”（无数值，仅风味）；  
      - “硬挤出一天休息”（+少量恢复，推迟一点进度）。  

#### 3.3 年终愿望小结

- 在学年结算时，读取：  
  - `year_wish`（那年许下了什么）；  
  - 与之相关的关键行为/事件统计（概念层，如：  
    - 论文线进度；  
    - 压力轨迹；  
    - 对应理想颜色是否被牺牲/强化；  
  - 给出 1–3 句“愿望小结文案”：  
    - “你努力靠近过它。”  
    - “你选择了别的东西。”  
    - “它被你一次次推迟。”  
- 数值（可选，MVP 可先不做）：  
  - 若与愿望同色的行为整体是正向的，可给一个极小的纪念性 buff 卡/被动；  
  - 若完全相反，则可以在心魔/理想描述里留下微妙的措辞变化。

---

### 4. 与现有系统的接口（概念层）

- **与理想系统**  
  - 愿望本质上是“当年你给某一色理想打了一个显式 tag”；  
  - 若多年反复许同色愿望却不断被现实打脸，可在后续版本中：  
    - 生成一种“执念型心魔”；  
    - 或改变该理想描述文案（从“期望”偏向“防御性合理化”）。

- **与战役/甘特系统**  
  - 愿望不直接改变甘特生成逻辑，只通过事件权重影响“你更容易在哪条线遇到机会或诱惑”；  
  - 回响事件优先以 0 回合泡泡 / 1 回合轻事件形式出现，避免打断主节奏。

- **与论文线/论文 Boss**  
  - 例如：某年的愿望是“今年一定要发一篇论文”：  
    - 当你进入该年的论文 Boss 时，可以在开场或结尾加一两句特殊台词，提醒玩家“这是那一年你许下的愿望的试金石”；  
    - 不必强制影响难度，仅作为情绪补刀。

---

### 5. 实现建议（第二期接入时的优先级）

1. **第一步：愿望记录 + 年终小结（纯文案版）**  
   - 先做：跨年许愿事件 + 年终一条总结文案；  
   - 不接入事件权重，不调整任何数值，只看情绪手感。

2. **第二步：插入 1–2 个“回响事件”**  
   - 为每个愿望色先做 1 个典型回响事件（正向 or 反向）；  
   - 将其挂在合适的时间节点（论文线、生活线、理想节点之一）。

3. **第三步（可选）：与理想/心魔轻微联动**  
   - 若同色愿望连续多年未实现，在心魔或理想文案中留下“累积感”；  
   - 仅作为 flavor，不做强数值。

---

### 6. 非目标（本 V1 明确不做）

- 不做“愿望任务系统”（不要求玩家完成复杂条件，如“连用多少张牌”等）。  
- 不把愿望变成强力数值加成或硬性策略选择，避免玩家为 min-max 而选违心愿望。  
- 不做独立 UI 面板展示全部历史愿望（可留给后续版本，如果玩家确实很在意）。  

> 简单说：本 V1 只想做到——  
> 让玩家在跨年的时候认真许一句话，  
> 然后在若干事件与年终总结里，看到世界对这句话的几次小回响。  
> 多余的复杂度和系统性，留给确实需要的时候再加。  


