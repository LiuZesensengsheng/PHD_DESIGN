
# 游戏设计文档：甘特方块模型 (Gantt-tris Model)

> 本文属于“权威三件套”之一：战役（甘特系统）。
> 总览入口：`docs/design/GAME_DESIGN_OVERVIEW.md`；战斗系统：`docs/design/COMBAT_SYSTEM_DOCUMENT.md`。

管理你的日程表，平衡压力，在DDL吞噬你之前，用卡牌杀出一条毕业之路！

## 1. 核心理念

本游戏是一款融合了**甘特图（Gantt Chart）**、**俄罗斯方块（Tetris）**与**肉鸽（Roguelike）**核心机制的策略卡牌游戏。

游戏的核心，是将博士生在面对多线程工作、截止日期（DDL）临近、以及各种突发事件时，那种**焦虑、压迫、手忙脚乱且充满黑色幽默的真实体验**，转化为一套直观、可交互的核心玩法。

玩家对抗的不仅是敌人，更是**时间的流逝**和由自己拖延所导致的**“事件连锁反应”**。




## 2. 核心概念：任务线 (Task Lines)

游戏由0-n条多条任务线组成，每个任务线代表这一个长期的任务，该任务具有 以下属性 1 完成度 2 总量 3 腐化度。
完成度代表着 你对项目的进展，总量则是项目的最多需要做的内容。 腐化度则表示，你滥竽充数混入的虚假工作量。其中，整体满足以下关系约束：
 腐化度<完成度<总量。
每个任务导向一次boss战斗，最终的boss强度会受到 腐化度，完成度，和总量的影响。
 当完成度高时 影响你的buff，腐化度则给你加debuff，然后 总量是给boss的强度。 同时，总量 也和这个任务线上的任务量直接相关。
 任务线的可选种类为： 助教，横向，纵向，会议，论文。


## 2. 核心单位：“甘特块” (The Gantt-tris Block)

游戏的基本单位不再是孤立的“节点”，而是一个既有**“类型”**（如节点），又有**“长度”**（如甘特图条带）的复合体，我们称之为**“甘特块”**。

每个“甘特块”拥有以下核心属性：
*   **类型分为 (Type)**: 代表其基础功能，如 `战斗节点`,`DDL` 等。
*   **长度 (Length)**: 代表其**危险程度、处理难度或持续时间**。一个基础战斗块长度可能为2，而精英战斗块长度可能为4。
*   **轨道 (Track)**: 它所属的任务线，如`论文轨道`, `助教轨道`等。
*   **标签 (Tags)**: 一系列描述其内在属性的关键词，这是实现“融合”机制的核心。考虑到代码实现的难度，如果两个战斗块相碰，则增加甘特块的强度。具体增加的细节还没有设定。可能的设计形式为
    1 增强前一个块的敌人
    2 融合出新的事件
    剧情内容：为了增强叙事性，甘特块会有一个对所在轨道的剧情。这部分剧情 还在设计当中

【生成与类型范围（执行口径）】
* 仅“战斗类块”与“DDL块”会在轨道上生成并推进。
* “休息（摸鱼）”与“组会（商店/篝火）”不作为轨道块生成，且不参与任何融合逻辑。

## 3. 核心玩法循环：下落、堆叠、消除

游戏界面为一个从右到左的多轨道棋盘，时间从右向左流动。

1.  **生成 (Spawning)**: 新的“甘特块”会从屏幕的**右侧（未来）**随机在某个轨道上生成。
2.  **推进 (Advancing)**: 当玩家结束一个回合（例如，处理完一个事件），所有棋盘上的“甘特块”都会向**左侧（今天）**推进一个单位。
3.  **消除 (Clearing)**: 玩家可以点击“今天”（一条“行动线”左侧）的任意一个“甘特块”来处理它（“消除”它）。这是玩家的主要行动。
4.  **堆叠 (Stacking & Merging)**: 这是游戏的核心机制。当一个“甘特块”B，在向左推进的过程中，其右端**物理上触碰**到了同一轨道上另一个“甘特块”A的左端时，**融合**就会发生。

## 4. 融合系统：基于标签的涌现式设计

“融合”是我们游戏最具创新性的核心。它不是简单的数值叠加，而是基于标签系统的、能创造出无限可能的“化学反应”。

### 4.1. 融合的触发

当两个“甘特块”在同一轨道上发生物理触碰时，它们会融合成一个全新的**“方块”**。
*   **视觉变化**: 新方块的长度是两者长度之和。
*   **内在变化**: 新方块的“类型”和“标签”由其融合前的两个方块共同决定。

### 4.2. 特殊的块：DDL（两条并行规则）
1) 碰撞污染：当任意甘特块在推进中与DDL块发生碰撞时，该块会被融合，其长度与标签将永久转移为最终BOSS的增益（污染）。
2) 今天强制：当DDL块推进到“今天”行时，玩家必须在下一回合立即结算DDL战斗。

说明：DDL为该任务线的终极考核，奖励与惩罚受战斗表现影响；学术类（论文、会议）结算后可获得一次抽取“创新点”的机会。

## 5. 战役时间
设想为10天为一个回合，即做任何事情，都会过去10天，一个学年中，总共有36次选择机会。作为一个独立的章节。

## 6. 组会节点（不耗回合，X轴标记）
组会为轨道外特殊阶段，不与甘特块发生交互；建议在第 5/10/15/20/25/30/35 回合开启。
呈现为X轴的固定刻度标记，临近时给予提示；进入后提供“商店/篝火”功能，不消耗回合。


## 7. 摸鱼（休息：轨道外但消耗一回合）
休息不在任务线上，以常驻按钮呈现；点击视为执行一次回合（时间推进10天，全体块左移1格），主要收益为降低压力，附带小概率随机事件。休息不生成轨道块、不可融合。



这个系统鼓励玩家去主动探索甚至利用融合机制，每一次融合都可能产生一个前所未见的、充满故事性的新挑战。

## 8. 年终考核

年终考核固定的发生在第36个回合。是所设计的boss战，战胜后，能获得一个 创新点 槽位。

## 9. 创新点
创新点是一个强大的加强，地位等价于杀戮尖塔中的boss的遗物。

10 玩家任务
玩家的任务需要

## 10. 玩家策略与体验

该设计的核心策略维度在于：
*   **风险管理**: "我是应该立即处理掉这个简单的战斗块，还是放任它与下一个精英块融合，以挑战一个更高风险、但可能有更高回报的复合事件？"
*   **空间规划**: "我必须清理这条轨道，为下一个重要的‘商店块’腾出空间，否则它一旦生成就会和前面的战斗块融合，导致我买不起东西。"
*   **长线规划**: "我必须不惜一切代价阻止那个超长的‘车轮战块’撞上DDL，否则我的最终BOSS会变得无法战胜。"

游戏将为玩家提供一次充满选择、意外和黑色幽ມ的、独一无二的博士生涯模拟。 