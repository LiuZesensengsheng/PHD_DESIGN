# 白色 · 秩序学派设计 v2（去除反伤，聚焦范式+排序）

## 目标与范围
- 删除“护甲反伤”类设计与引用（如：通过格挡造成等额伤害的被动/力量）。
- 将白色的核心玩法收敛到：
  - 范式（Paradigm）：以“全局规则”重塑战场秩序；
  - 排序/端点（Queue/Endpoints）：以“重排/端点触发/序列”进行可规划的输出与控场；
  - 坚定（Validate）：完美格挡后的“资源/控场”回报（而非直接伤害）。
- 不改动现有文档文件，v2以本文件为新的策划基线供实现与测试。
坚定 > 范式 > 坚定 > 排序
---

## 核心关键词（v2）
- 范式（Paradigm）：持续的全局规则，明确标签化，允许后续交互（如重置/移除）。  行为规范 敌人和我都需要遵守的感觉，以规则突出
- 坚定（Steadfast，短期）：当一次伤害被“自信”完全吸收（完美格挡）时触发的即时结算机制。打出相关牌会“装填”本回合的“下一次坚定”标记（可叠加）；触发时合并结算并清空；回合结束未触发的标记清空。 精神上的优势
- 端点（Endpoint）/序列（Sequence）：左/右端点与按序列结算的机制基石。 行为规范

（v2.1补充）
- 规整（Regulated，T1，短效）：本回合内，该单位每次受到伤害，在“最终结算”阶段额外承受+X点纯伤；回合结束移除全部“规整”。不参与易伤/力量等乘算。默认来源收紧：以范式脉冲/合规奖励为主，少量直赋与队列直赋为辅。 象征着，做事情按照规则来，越做会越顺手。

---

## 设计支柱（v2）

### 支柱一：建立范式（Establish the Paradigm）
- 充分条件（Barricade，能力，3(2)）：【范式】你的自信在回合开始时不移除。
- 公理体系（Axiomatic System，能力，2）：【范式】在你的回合开始时，所有单位获得 2(4) 自信。
  - 备注：若需要倾斜，可在测试版中尝试“你+3(4)，敌+1(2)”的轻微非对称方案。
- 学术伦理（Academic Ethics，能力，2（1））：【范式】每单位每回合第一次受到的攻击伤害减半（可配置减免上限）。

- 公理自愈（Axiomatic Regeneration，能力，2）：【范式】【对称】每个单位在其回合开始时，回复 1(2) 生命。（每单位每回合至多触发1次）
- 首击回春（First Strike Lifesteal，能力，1）：【范式】【对称】本回合该单位第一次造成伤害 吸血
- 严谨积累（Rigor Accrual，能力，2）：【范式】【对称】在回合结束时，该单位获得 +1 层【严谨度/力量】（战斗内持续），每单位每战至多 +3 层。

设计要点：范式塑造“慢起稳扎”的秩序世界，数值以稳健为先，避免早期滚雪球。

范式并存规则（v2.1补充）：
- 允许同时存在多个【范式】处于激活状态（无数量上限）。
- 结算顺序：在“回合开始时”触发窗口，按“玩家→敌人”的顺序依次结算所有范式；同一方内部按加入顺序结算。
- 叠加规则：
  - 同名/同ID范式不叠加，保留数值更高者（或最后加入者，按实现择一）。
  - 同类数值效果可叠加，但设置本类软上限以防指数增长：例如“回合开始：获得自信”总和≤+5（占位，可调）。
  - 阈值/减免类效果（如“第一次伤害减半”）仅取最强版本生效；不同类型可以并存。

---

### 新增机制（v2.1）：规整（T1.5，衰减+回合内递增）
- 跨回合层数 L（持久，衰减）：
  - 含义：仅当 L>0 时，本回合启用“规整”效果；L=0 则无效。
  - 衰减：在你的回合开始时，L := max(0, L-1)。若有范式引擎（如“监管脉冲”）在线，可在衰减或之前由范式对敌人+1层，确保最低1层持续（实现时定义先后顺序）。
- 本回合递增计数 k（当回合，清零）：
  - 初值：回合开始 k=0。
  - 触发：仅当 L>0 且发生一次“未被自信完全吸收”的伤害实例时触发（被完全格挡的不触发）。
  - 结算（最终结算阶段）：额外伤害 = k + 1（纯伤，不参与易伤/力量）；随后 k := k + 1。
  - 回合结束：k 清零。
- 多段与群体：
  - 多段：每段按一次独立实例触发与递增。
  - 群体：每个单位独立维护各自的 L 与 k。
- 来源策略：
  - 主来源：范式脉冲（你的回合开始：对全体敌人施加或维持规整层数，通常+1）。
  - 辅来源：合规奖励（如“上回合触发过坚定”→本回合全体敌人+1层）。
  - 限量来源：直赋与队列直赋各1张（单体+1或+2层）。
- 例子（与你的设想一致）：
  - 当前 L=3、k=0，本回合连续受到4次未被完全格挡的伤害，额外伤害依次为+1、+2、+3、+4；下一次将为+5。
  - 下回合开始 L 衰减为2、k重置为0；再受伤时从+1重新计数。

- 调参占位：
  - L 单体建议上限3；稀有牌可临时+2层。
  - 每回合全体层数来源建议≤2（范式+一次合规）；Boss可将全体来源限制为每回合至多+1层。

---

### 支柱二：绝对防御（Absolute Defense，去反伤）
- 基本假设（Defend_W，技能，1）：获得 6(9) 自信。
- 论文答辩（Thesis Defense，技能，2）：获得 12(15) 自信。本回合你获得的下一个“坚定”标记效果翻倍。
- 论文发表（Body Slam，攻击，1(0)）：造成等同于你当前自信的伤害。

变更说明：
- 删除“反驳型人格（Refuter Personality，能力）”及一切“护甲反伤/格挡反击”思路。
- 将原“校验（Validate）”收敛为“坚定（短期）”，主要回报为“抽牌/返能/端点伤害”等一次性资源或控制，不直接做常驻伤害放大。

——

### 坚定（短期）机制与卡牌（当回合装填→触发→清空）
- 机制：
  - 触发：当一次伤害被“自信”完全吸收时触发“坚定”。
  - 标记：相关牌会给予“下一次坚定”标记（可叠加）；触发时合并结算已装填的所有标记并清空；回合结束清空未触发标记。
  - 限制：不设次数上限，建议通过数值与卡面约束强度。
- 三种标准效果（命名统一）：
  - 精力充沛：下次坚定：+1 能量。
  - 思如泉涌：下次坚定：抽 1 张牌。
  - 妙语连珠：下次坚定：对最左侧敌人造成 X 伤害（常用 5/8）。
- 代表性卡牌（新增/调整）：
  - 论证规范（技能，1）：获得 8(11) 自信。获得 1 个“精力充沛”。
  - 程序正当（技能，1）：获得 7(10) 自信。获得 1 个“思如泉涌”。
  - 整顿会议（技能，1，罕见）：获得 6(9) 自信。获得“精力充沛”与“思如泉涌”各 1 个。
  - 破绽捕捉（技能，1，罕见）：获得 6 自信。获得 2 个“妙语连珠(4/6)”。
  - 逻辑闭环（技能，1，罕见）：获得 5 自信。若本回合你已坚定过：改为获得“精力充沛”与“思如泉涌”各 1 个；否则仅获得“思如泉涌”。


---

### 主题深化：队列管理（Queue Management / Endpoints）
- 冒泡（Bubble Sort，技能，1）：选一个敌人与其右侧敌人交换；若成功右移，施加 2(3) 层【破防】。
- 排序（Sorting，技能，2）：按当前生命从低到高重新排列所有敌人，对所有敌人造成 4(6) 伤害。【消耗】
- 遍历（Traversal，攻击，2）：【序列】对最左侧敌人造成 3(4) 伤害，随后对下一个敌人+2……
- 过程再造（Process Re-engineering，能力，2）：每当你使一个敌人改变位置，抽 1(2) 张牌。
- 逐条批复（Line-by-Line Rebuttal，攻击，1）：7(9) 伤害；若目标是最左侧，返还 1 能量。获得 1 个“思如泉涌”。
- 递归（Recursion，攻击，1）：对最左敌人 6(8) 伤；若击杀，免费再次对新的最左敌人施放。【消耗】
- 并行处理（Parallel Processing，能力，2）：你每打出一张牌，对最左与最右的敌人各造成 2(3) 伤害。
- 钳形攻势（Pincer Attack，攻击，1）：对最左与最右敌人各造成 8(10) 伤害。
- 插入排序（Insertion Sort，技能，0，消耗）：选择一个敌人，将其移动到中间。获得 1 个“妙语连珠(5/8)”。
- 左右指针（Two Pointers，技能，0）：对最左施加 2(3)【破防】，对最右施加 2(3)【虚弱】。

护栏建议（实现时执行）：
- 并行处理：每回合最多触发 N 次（建议 5）。
- 过程再造：每回合最多抽牌 M 次（建议 2–3）。
- 插入排序（0费形态）：建议【消耗】或降低出现频率。
- 索引（0费）：建议【消耗】或限定每回合使用次数。

---

### 新增卡池（v2.1）：规整T1小池（C3 / U3 / R1）

状态占位定义（实现口径）：
- 规整（T1.5）：跨回合层数 L>0 时启用；本回合递增计数 k 从0开始，每次未被完全格挡的伤害在“最终结算”追加 (k+1) 纯伤并令 k+1；回合结束 k 清零。下回合开始 L 衰减（通常 -1；范式可在回合开始为敌人+1 以维持≥1）。不参与易伤/力量乘算。

常见（C）
- 立案调查（技能，0，【消耗】）：对一个敌人施加“本回合规整+1”。抽1。
  - 升级：抽2（或抽1且获得+3自信，二选一以测试确定）。
- 微型制裁（攻击，1）：对一个敌人造成 2×3 伤害。若其本回合被规整，本牌结算后返还1点能量。
  - 升级：2×4 伤害。
- 合规批复（攻击，1）：造成 7(9) 伤害。若目标本回合被规整，获得 +6(9) 自信。
  - 说明：保证一回合“装填→转化→输出”走通；为避免无限，返能仅在本牌标注的这一次生效。

非常见（U）
- 重启（Restart，技能，1）：若你上回合曾触发“坚定”，则本回合对全体敌人施加“本回合规整+1”。抽1。
  - 升级：额外获得 +1 能量。
- 插入指令（技能，1）：将一个敌人移动到中间；对其施加“本回合规整+1”；你获得 +6(9) 自信。
  - 升级：对其改为施加“本回合规整+2”，并获得 +9 自信。
- 流程审计（攻击，2）：对一个敌人造成 3×4 伤害。若其本回合被规整，本牌结算后返还1点能量。
  - 升级：4×4 伤害。
- 合规引擎（能力，1）：每当你触发“坚定”：对随机敌人施加“本回合规整+1”。
- 认真挑刺 （能力，1）：当你的“坚定”触发后，对随机敌人造成 1 点纯伤。

稀有（R）
- 监管脉冲（能力，2，【范式】）：在你的回合开始时：对全体敌人施加“本回合规整+1”。
  - 升级：此外，你每回合第一次对“被规整”的敌人打出攻击时，抽1。

说明：上述小池遵循“来源少、效果强”的策略；主引擎=范式脉冲，辅以一次性“合规则奖励”与有限直赋/队列赋，体现“越规整→小段越痛”的秩序语义。

---
## 与 IDEAL v9.0 的衔接（摘要）
- 同色-1 折扣：提升白色“低费控场+队列引擎”的可行性，需监控 0 费出牌密度与端点触发次数。
- 冲突→心魔：白色默认以“秩序/稳定”为核心，三色桥牌/钥石在后期开放，不在 v2 基线中赦免代价。

---

## 变更清单（v1 → v2）
- 移除：反驳型人格（Refuter Personality，能力，格挡反伤）。
- 统一将【校验】的回报从“伤害”迁移为“资源/控场”（抽牌、返能、重排、端点标记）。
- 强化“范式+排序”的表达与引擎护栏（每回合触发上限/消耗/频率控制）。

---

## 验收与遥测（建议）
- 指标：端点触发次数/回合、0费出牌数、范式在线数量、校验触发率、并行处理命中分布。
- 目标：白色在 2/3 敌场景下曲线稳定、靠秩序化队列取胜；爆发峰由“序列/端点联动”而非“反伤”提供。

> 本 v2 文档作为“白色（秩序）”的最新策划基线。反伤相关内容在本版本中不再出现。


卡牌库数据库的字段：
1 id

---

## 附录 · 排序主打深化（草案 v0.1）

目标：将“排序”确立为白色的主打特性，同时降低操作/视觉疲劳。采用“半控半结算”的结构：
- 不改队列的“顺序结算/端点结算”≈50%
- 轻控（相邻交换/中位插入/小旋转）≈30%
- 重控（分区/洗牌/快速排序）≈20%（多【消耗】或设回合/战斗上限）

### A. 算法主题（单卡一算法，带联动）
- 冒泡排序 Bubble Sort（已有）：相邻交换；若右移成功：对被移动者施加【破防】2(3)。Combo(Sorting)：额外对两者各造成3伤/本回合至多1次。
- 选择排序 Selection Sort：选择当前生命最低的敌人→移至最左；对其施加【虚弱】2；若其已在最左，抽1。
- 插入排序 Insertion Sort（已改中位）：选择一个敌人→移至中位；Combo(Sorting)：对“中位”额外施加【规整】+1。
- 快速排序 Quick Sort（重控，【消耗】）：选枢轴（Pivot）→按血量分区：小于Pivot移左，其余移右；每被搬动的敌人【规整】+1。本回合你的“遍历/端点”每命中一侧+1伤。
- 归并排序 Merge Sort：队列一分为二，各自按血量排序后合并；合并后“左半区”受到伤害+1/段（仅本回合）；抽1或返1能量（二选一升级确定）。
- 堆排序 Heap Sort：将最高血移到最左（堆顶）并施加【破防】2；若本回合命中堆顶≥2次，额外抽1。
- 计数/桶排序 Counting/Bucket Sort：按阈值分桶（血量/标签），桶内稳定排序；对每个“桶首”施加【规整】+1；升级：对全部桶首再+1伤。
- 快速选择 Quickselect：选第k小（默认k=2）→“标记为目标位”；对该位造成 8×2；若击杀：返1能量并抽1。

关键词建议：`Sorting`（算法）/ `Pivot`（枢轴）/ `Partition`（分区）/ `Stable`（稳定）/ `Middle`（中位）。

### B. 扰动/打乱（增强不可预测与“重排价值”）
- 反转 Reverse：队列整体反转；本回合“遍历”改为从右向左并 +2 基础伤。
- 旋转 Rotate 1：全体循环右移 1 格；旋转后“左端点”本回合每段额外 +1 伤。
- 洗牌 Shuffle（【消耗】）：完全随机重排；为减轻负体验：洗牌后对全体造成 3(4) AOE 或对全体施加【规整】+1（二选一）。
- 锚点乱序 Anchor Shuffle：指定一个单位锚定不动，其他随机重排；若锚点为 Pivot，本回合你的端点伤害 +2。
- Bogosort（趣味稀有，【消耗】）：随机打乱至多 N 次，若出现“最左为最低血”则停止并抽2；否则仅施加全体【规整】+1。

### C. 不改队列的顺序结算（主量）
- 端点系：最左/最右/两端同时（如“钳形攻势”）。
- 扫描系：从左到右/右到左逐个命中（“遍历”）。
- 中位/第k位：只打中位或第k小/第k大（无需移动）。
- 标签序：优先命中有【规整/虚弱/破防】的前两个。
- 视图序（实现口径）：按“逻辑排序视图”结算伤害，但不改变可见位置（数据层使用临时序列）。

### D. 护栏与动画策略
- 位移护栏：每回合位移次数≤2–3；超出后“位移牌”转为“视图序结算”模式。
- 重控牌：多标注【消耗】或“每回合至多 1 次”。
- 锁序窗口：本回合队列不可移动，但顺序结算牌获得 +1 段或 +2 基础伤。
- 动画：位移短距/低频/平滑；顺序结算仅目标高亮+轻微抖动。

### E. 引擎/范式（3–4张）
- 指针扫描（Power）：你每打出一张牌，对“指针所指”敌人造成 2(3)；指针按方向移动 1 格（到头折返）。
- 排序窗（Power）：当你触发“逻辑排序视图结算”后，你的下一张“遍历/端点”伤害 +2(3)。
- 锁序（Power）：本回合队列锁定；你的“非位移顺序牌”基础伤 +2，或额外 +1 段。

### F. 立即可落地的“非位移顺序牌”（示例）
- 中位斩击 Median Strike：对中位造成 10(12)；若其为最低血，再 +2(3)。
- Quickselect(2)：对第 2 小血量目标造成 8×2；若击杀：抽1。
- 扫描线 Scanline：从左到右，对前三个目标各造成 4(5)。
- 端点连枷 End Whip：依次对最左→最右→最左造成 5(6)。
- 标签优先 Tag Priority：对“被规整”的前两个目标各造成 6；若不足则改打最左。
- 稳定打击 Stable Hit：若本回合未发生位移，本牌 +6 伤。

实现口径（数据）占位：
- 视图序结算：`effects = [{ type: "sequence_damage", base:X, step:Y, target:"left_to_right", view_only:true }]`
- 中位/第k位：`target:"median_enemy" | "kth_enemy:k"`（实现层映射目标索引）
- 锁序：`{ type:"lock_queue", duration:1 }`（实现层拦截 reposition）
