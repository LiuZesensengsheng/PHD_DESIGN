# 游戏视觉效果与滤镜系统策划案 V1.0

> **文件目的:** 本文档旨在明确《绝不延毕》项目中视觉效果的实现策略，并为相关程序员提供一份清晰的技术任务清单。
> **核心目标:** 建立一套能够统一美术风格、并能动态反映游戏状态的滤镜系统，以极大提升游戏的艺术表现力和叙事沉浸感。

---

## 1. 核心理念：为什么我们需要实时滤镜？

我们的游戏是“50%叙事模拟器 x 50%卡牌战斗”的混合体验。为了让叙事部分更加深入人心，视觉必须能够**动态地**传达主角的情绪和处境。同时，由于我们美术资源（AI辅助+手绘）来源多样，需要一套统一的系统来“粘合”所有视觉元素，形成统一的品牌风格。

**本方案将视觉效果分为两个相辅相成的部分：**
1.  **美术的“烘焙”式后期处理:** 对静态素材进行预处理，定义其基础质感。
2.  **程序的“实时”动态滤镜:** 在游戏运行时，对整个画面进行统一的、动态的风格化处理。

---

## 2. 职责分工 (谁做什么)

为了高效协作，我们明确以下职责：

*   **美术 (艺术决策者):**
    *   负责定义游戏最终的“观感 (Look & Feel)”。
    *   制作并交付“烘焙”好基础效果的静态美术资源。
    *   制作用于对齐目标的**“效果预览图”**。
    *   制作并提供用于“整体画风统一”的**LUT调色文件**。

*   **程序员 (技术实现者):**
    *   **[即本策划案的核心任务负责人]**
    *   负责研究、验证并在Pygame中实现实时滤镜所需的技术。
    *   开发出可供项目集成的**滤镜功能原型**。
    *   核心是**“提供工具”**，让美术的艺术设想得以在游戏中实现。

*   **架构师 (系统整合者):**
    *   负责将技术原型，以稳定、高效、可复用的方式整合进主游戏架构中。
    *   设计滤镜系统与游戏核心逻辑（如`压力值`系统）交互的接口。
    *   对技术原型进行Code Review和最终整合。

---

## 3. 任务详解：实时动态滤镜系统

这是本次分配给程序员的核心开发任务。我们的目标是为游戏引擎增加一套后期处理管线。

### 3.1. 任务A：整体画风统一滤镜 (LUT System)

*   **目标:** 实现一个可以加载美术提供的LUT文件，对整个游戏画面进行统一调色的系统。这是解决AI绘画与手绘风格差异、统一视觉风格的关键。
*   **技术方向:** 研究如何在Pygame中使用着色器(Shader)读取一张LUT贴图，并对屏幕像素进行颜色查找替换。

### 3.2. 任务B：动态状态滤镜 (Dynamic Filter Toolbox)

*   **目标:** 实现一个“滤镜工具箱”，包含一系列可以由代码动态控制强度的基础滤镜。这些滤镜将用于表现游戏状态。
*   **需要实现的滤镜列表:**
    1.  **暗角 (Vignette):** 用于模拟压力、紧张感。需要可以动态调整**强度**和**范围**。
    2.  **饱和度/对比度/亮度 (Color Adjustment):** 基础调色工具。
    3.  **灰度 (Grayscale):** 用于特殊剧情或状态。
    4.  **色差 (Chromatic Aberration):** 用于表现精神恍惚、压力巨大。需要可以动态调整**强度**。
    5.  **(可选) 辉光 (Bloom):** 增强画面的氛围感。

---

## 4. 执行计划：技术探索与原型开发

考虑到我们使用Pygame，需要从底层搭建。因此，本任务的核心是**技术研究与原型交付**，而非直接进行架构设计。请按照以下步骤进行：

### 阶段一：环境搭建与“Hello World”

*   **任务1.1:** 搭建一个可以同时运行Pygame和PyOpenGL的本地测试环境。
*   **任务1.2:** **(里程碑)** 编写一个独立的`prototype_grayscale.py`脚本。要求：加载一张图片，并通过一个GLSL着色器，将该图片渲染为**灰度图**。
    *   *这是验证技术路线可行性的关键第一步。*

### 阶段二：核心功能原型

*   **任务2.1:** 在上一步基础上，编写`prototype_vignette.py`，实现**暗角**效果。
*   **任务2.2:** **(里程碑)** 改造`prototype_vignette.py`，实现从Python代码中传递一个**参数(Uniform)**到GLSL着色器中，从而可以**实时控制暗角的强度**。
    *   *这是实现“动态”滤镜的核心技术点。*
*   **任务2.3:** 参照此方法，逐个实现“动态状态滤镜”列表中提到的其他滤镜效果的原型脚本。

### 阶段三：任务交付

*   **交付内容:**
    1.  一套干净、有注释的、可独立运行的`.py`原型脚本。
    2.  每个原型所对应的`.glsl`着色器文件。
*   **交付说明:** 你**不负责**将这些原型整合到主工程中。你的任务在交付可工作的、清晰的原型代码后即为完成。后续的架构整合工作将由架构师负责。

## 5. 协作与沟通

*   我们会在近期召开一个由策划、美术、程序员参加的创意对齐会议，届时美术会提供“效果预览图”，作为你开发工作的视觉目标。
*   在开发过程中，请保持沟通。遇到技术障碍或不确定的地方，请及时提出。你的任务是探索，不是闭门造车。

祝开发顺利！
